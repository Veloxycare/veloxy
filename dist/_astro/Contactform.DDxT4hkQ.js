import{j as e}from"./jsx-runtime.Dhsgnf4I.js";import{r as i}from"./index.uubelm5h.js";import{_ as u}from"./ClipLoader.P98U-cnA.js";import{Q as h,B as o}from"./react-toastify.esm.DZv44BnJ.js";/* empty css                       */import{a as p,A as f}from"./server.CoGzddUV.js";import"./clsx.B-dksMZM.js";const b=async a=>{try{const t=new URLSearchParams;for(const l in a)a.hasOwnProperty(l)&&t.append(l,a[l]);return await p.post(`${f}/contact-form/create-new-contact-form`,t.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(t){throw console.error("Error posting message:",t),t}},C=()=>{const[a,t]=i.useState(!1),[r,l]=i.useState({firstName:"",lastName:"",email:"",subject:"",comments:""}),m=s=>{l({...r,[s.target.name]:s.target.value})},c=()=>{const s=/^[A-Za-z]+$/,n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return s.test(r.firstName)?s.test(r.lastName)?n.test(r.email)?r.subject.trim()===""?(o.error("Subject cannot be empty."),!1):r.comments.trim()===""?(o.error("Comments cannot be empty."),!1):!0:(o.error("Please enter a valid email address."),!1):(o.error("Last name should contain alphabets."),!1):(o.error("First name should contain alphabets."),!1)},d=async s=>{if(s.preventDefault(),!!c()){t(!0);try{const n=await b(r);console.log(n),n.status===200&&(o.success("Message sent."),l({firstName:"",lastName:"",email:"",subject:"",comments:""}))}catch(n){console.log(n),o.error("Failed to send the message. Please try again later.")}finally{t(!1)}}};return e.jsxs("div",{children:[e.jsxs("div",{className:"p-8 ",children:[e.jsxs("form",{className:" space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block font-medium text-primary mb-2",children:"First Name *"}),e.jsx("input",{type:"text",id:"firstName",name:"firstName",value:r.firstName,onChange:m,className:"w-full p-2 border border-white h-14 rounded-lg",placeholder:"First name here",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block font-medium text-primary mb-2",children:"Last Name *"}),e.jsx("input",{type:"text",id:"lastName",name:"lastName",value:r.lastName,onChange:m,className:"w-full p-2 border border-white h-14 rounded-lg",placeholder:"Last name here",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block font-medium text-primary mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:m,className:"w-full p-2 border border-white h-14 rounded-lg",placeholder:"Add email",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block font-medium text-primary mb-2",children:"Subject *"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:m,className:"w-full p-2 border border-white h-14 rounded-lg",placeholder:"How can we help you?",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"comments",className:"block font-medium text-primary mb-2",children:"Comments / Questions *"}),e.jsx("textarea",{id:"comments",name:"comments",rows:5,value:r.comments,onChange:m,className:"w-full p-2 border border-white h-14 rounded-lg",placeholder:"Comments",required:!0})]})]}),e.jsx("button",{type:"submit",onClick:d,className:"bg-primary text-white px-4 py-2 mt-4 rounded-lg",disabled:a,children:"Send Message"})]}),a&&e.jsx("div",{className:"loader-container",children:e.jsx(u,{color:"#3C3E83",loading:a,size:100})}),e.jsx(h,{})]})};export{C as default};
